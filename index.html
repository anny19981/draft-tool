<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LAN-Party</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <style>
    body { background:#fafafa; }
    #draft {
      display:flex; justify-content:space-between; align-items:flex-start; gap:20px;
    }
    .team { width:25%; text-align:center; }
    .bans, .picks {
      display:flex; justify-content:center; flex-wrap:wrap; gap:6px; margin-bottom:10px;
    }
    .bans img, .picks img {
      width:50px; height:50px; border-radius:8px; border:2px solid #555;
    }
    .champion-grid {
      display:grid; grid-template-columns:repeat(auto-fill,50px);
      gap:6px; max-height:400px; overflow-y:auto; justify-content:center;
    }
    .champion-grid img {
      width:48px; height:48px; border-radius:6px; cursor:pointer;
      transition:transform .1s;
    }
    .champion-grid img:hover { transform:scale(1.15); }
    .phase-info { text-align:center; font-size:18px; font-weight:bold; margin-bottom:10px; }
    .role-icon { width:24px; vertical-align:middle; margin-left:4px; }
    .champion-icon { width:40px; vertical-align:middle; margin-right:6px; }
    td img { vertical-align:middle; }
    .item-suggestions img { width:32px; margin:2px; }

    /* Unterschiedliche Optik fÃ¼r Bans und Picks */
.bans img.ban-icon {
  border: 2px solid #d9534f; /* Rot */
  box-shadow: 0 0 8px rgba(217,83,79,0.5);
}

.picks img.pick-icon {
  border: 2px solid #5cb85c; /* GrÃ¼n */
  box-shadow: 0 0 8px rgba(92,184,92,0.5);
}

.phase-info {
  font-size: 20px;
  font-weight: bold;
  color: #222;
  margin-bottom: 10px;
  background: #f0f0f0;
  padding: 8px 12px;
  border-radius: 8px;
  display: inline-block;
}

#phase {
  color: #007bff;
}

    /* Essensplan */
.day-plan-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

.day-plan-table th,
.day-plan-table td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

.day-plan-table th {
  background-color: #3f51b5;
  color: white;
}

.day-plan-table td input {
  width: 90%;
  padding: 4px;
  border: 1px solid #aaa;
  border-radius: 4px;
  text-align: center;
}

  </style>
</head>

<body>
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title">LAN-Party</span>
    </div>
    <div class="mdl-layout__tab-bar mdl-js-ripple-effect">
      <a href="#tab1" class="mdl-layout__tab is-active">Ãœbersicht</a>
      <a href="#tab2" class="mdl-layout__tab">Games</a>
      <a href="#tab3" class="mdl-layout__tab">Essen</a>
      <a href="#tab4" class="mdl-layout__tab">Spielplan</a>
      <a href="#tab5" class="mdl-layout__tab">Draft</a>
    </div>
  </header>

  <main class="mdl-layout__content">

    <!-- TAB 1: Ãœbersicht -->
<section class="mdl-layout__tab-panel is-active" id="tab1">
  <style>
    /* ðŸŽ¨ Styling nur fÃ¼r diesen Abschnitt */
    .overview-card {
      background: linear-gradient(135deg, #0a0a1a, #162447);
      color: #f4f4f4;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      padding: 30px;
      max-width: 600px;
      margin: 60px auto;
      text-align: center;
      font-family: 'Poppins', sans-serif;
      border: 2px solid rgba(255, 215, 0, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .overview-card:hover {
      transform: scale(1.02);
      box-shadow: 0 6px 25px rgba(255, 215, 0, 0.3);
    }

    .overview-card h2 {
      font-size: 2rem;
      color: #ffd700;
      margin-bottom: 10px;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
    }

    .overview-card p.subtitle {
      font-size: 1.1rem;
      color: #ccc;
      margin-bottom: 25px;
    }

    #timer {
      font-size: 2.5rem;
      letter-spacing: 2px;
      color: #00d9ff;
      text-shadow: 0 0 15px rgba(0, 217, 255, 0.7);
      font-weight: bold;
    }
        #timer2 {
      font-size: 2.5rem;
      letter-spacing: 2px;
      color: #00d9ff;
      text-shadow: 0 0 15px rgba(0, 217, 255, 0.7);
      font-weight: bold;
    }


    @media (max-width: 600px) {
      .overview-card {
        padding: 20px;
      }
      #timer {
        font-size: 2rem;
      }
    }
  </style>

  <div class="page-content">
    <div class="overview-card">
      <h2>LAN-Party Countdown</h2>
      <p class="subtitle">NÃ¤chster Termin: <strong>20. November 2025</strong></p>
      <p id="timer">LÃ¤dtâ€¦</p>
    </div>
  </div>

<div class="overview-card">
  <h2>Sonntag Football</h2>
  <p class="subtitle">NÃ¤chster Termin: <strong>16. November 2025</strong></p>
  <p id="timer2">LÃ¤dtâ€¦</p>
</div>

  <script>
    // ðŸ•’ Countdown-Script 1
    const targetDate = new Date("Nov 20, 2025 14:00:00").getTime();
    const timerEl = document.getElementById("timer");

    function updateCountdown() {
      const now = new Date().getTime();
      const diff = targetDate - now;

      if (diff <= 0) {
        timerEl.textContent = "ðŸŽ‰ Es ist LAN-Zeit!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const secs = Math.floor((diff % (1000 * 60)) / 1000);

      timerEl.textContent = `${days}d ${hours}h ${mins}m ${secs}s`;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
    // ðŸ•’ Zweiter Timer
const targetDate2 = new Date("Nov 16, 2025 19:00:00").getTime();
const timerEl2 = document.getElementById("timer2");

function updateCountdown2() {
  const now = new Date().getTime();
  const diff = targetDate2 - now;

  if (diff <= 0) {
    timerEl2.textContent = "ðŸŽ‰ Event 2 lÃ¤uft!";
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  const secs = Math.floor((diff % (1000 * 60)) / 1000);

  timerEl2.textContent = `${days}d ${hours}h ${mins}m ${secs}s`;
}

updateCountdown2();
setInterval(updateCountdown2, 1000);

  </script>
</section>


    <!-- TAB 2: Games -->

<section class="mdl-layout__tab-panel" id="tab2">
  <div class="page-content">

    <h2>ðŸŽ® Games</h2>
    <p>Hier kannst du alle Spiele eintragen, die bei der LAN-Party gespielt werden sollen.</p>

    <!-- Eingabe & Button -->
    <div style="display:flex; gap:10px; margin-bottom:20px;">
      <input type="text" id="gameInput" placeholder="Neues Spiel hinzufÃ¼gen..." style="flex:1; padding:10px; border-radius:6px; border:1px solid #ccc;">
      <button id="addGameBtn" class="mdl-button mdl-js-button mdl-button--colored">+ HinzufÃ¼gen</button>
    </div>

    <!-- Game Liste -->
    <ul id="gameList" class="mdl-list" style="max-width:500px; margin:auto; padding:0;"></ul>

    <script>
      // === GAME LIST MANAGER ===
      const gameInput = document.getElementById('gameInput');
      const addGameBtn = document.getElementById('addGameBtn');
      const gameList = document.getElementById('gameList');

      // Spiele aus dem LocalStorage laden
      let games = JSON.parse(localStorage.getItem('games')) || ["League of Legends", "Valorant", "Minecraft"];

      // Funktion: Liste aktualisieren
      function renderGames() {
        gameList.innerHTML = "";
        games.forEach((game, index) => {
          const li = document.createElement('li');
          li.className = "mdl-list__item mdl-shadow--2dp";
          li.style.marginBottom = "10px";
          li.style.borderRadius = "6px";
          li.style.display = "flex";
          li.style.justifyContent = "space-between";
          li.style.alignItems = "center";
          li.style.padding = "10px 16px";
          li.style.background = "#f9f9f9";

          const span = document.createElement('span');
          span.textContent = game;
          span.style.fontWeight = "500";

          const delBtn = document.createElement('button');
          delBtn.className = "mdl-button mdl-js-button mdl-button--accent";
          delBtn.innerHTML = '<i class="material-icons">delete</i>';
          delBtn.onclick = () => removeGame(index);

          li.appendChild(span);
          li.appendChild(delBtn);
          gameList.appendChild(li);
        });
      }

      // Funktion: Neues Spiel hinzufÃ¼gen
      function addGame() {
        const newGame = gameInput.value.trim();
        if (newGame === "") {
          alert("Bitte gib einen Spielnamen ein!");
          return;
        }
        games.push(newGame);
        gameInput.value = "";
        saveGames();
        renderGames();
      }

      // Funktion: Spiel lÃ¶schen
      function removeGame(index) {
        games.splice(index, 1);
        saveGames();
        renderGames();
      }

      // Funktion: Speicherung
      function saveGames() {
        localStorage.setItem('games', JSON.stringify(games));
      }

      // Event Listener
      addGameBtn.addEventListener('click', addGame);
      gameInput.addEventListener('keypress', function (e) {
        if (e.key === "Enter") addGame();
      });

      // Initiales Rendern
      renderGames();
    </script>
  </div>
</section>


   <!-- TAB 3: Essen / Tagesplan -->
<section class="mdl-layout__tab-panel" id="tab3">
  <div class="page-content" style="padding:20px; max-width:700px; margin:auto;">
    <h3>Essens-Tagesplan</h3>
    
    <!-- Button um neuen Tag hinzuzufÃ¼gen -->
    <div style="margin-bottom:20px; text-align:center;">
      <input id="newDayInput" placeholder="Neuer Tag..." style="padding:6px; width:150px;">
      <button id="addDayBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Tag hinzufÃ¼gen</button>
    </div>

    <!-- Plan wird hier gerendert -->
    <div id="dayPlanContainer"></div>
  </div>
</section>


    <!-- TAB 4: Spielplan -->
    <section class="mdl-layout__tab-panel" id="tab4">
      <div class="page-content" style="padding:20px;">
        <h3>League of Legends Spielplan</h3>
        <button id="addRowBtn" class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored">
          <i class="material-icons">add</i>
        </button>
        <table id="lolTable" class="mdl-data-table mdl-js-data-table mdl-shadow--2dp"
               style="width:100%; margin-top:20px;">
          <thead>
            <tr>
              <th>Spieler</th><th>Rolle</th><th>Champion</th>
              <th>Gegner</th><th>Items</th>
            </tr>
          </thead><tbody></tbody>
        </table>
      </div>
    </section>

    <!-- TAB 5: Draft -->
    <section class="mdl-layout__tab-panel" id="tab5">
      <div class="page-content" style="padding:20px;">
        <h3>Mini Draft Tool â€“ Pick &amp; Ban</h3>
        <div id="draft">
          <div id="team-blue" class="team"><h4>Team Blau</h4><div class="bans"></div><div class="picks"></div></div>
          <div id="center">
            <div class="phase-info">Phase: <span id="phase">BANS</span></div>
            <div class="champion-grid"></div>
          </div>
          <div id="team-red" class="team"><h4>Team Rot</h4><div class="bans"></div><div class="picks"></div></div>
        </div>
        <div style="text-align:center;margin-top:20px;">
          <button id="nextPhaseBtn" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent">NÃ¤chste Phase</button>
          <button id="resetDraftBtn" class="mdl-button mdl-js-button mdl-button--raised">Reset</button>
        </div>
      </div>
    </section>

  </main>
</div>

<!-- ========== JAVASCRIPT ========== -->
<script>
// === Timer ===
const countDownDate = new Date("Nov 20, 2025 14:00:00").getTime();
setInterval(()=>{
  const dist=countDownDate-Date.now();
  if(dist<0){document.getElementById("timer").textContent="Party lÃ¤uft!";return;}
  const d=Math.floor(dist/(1000*60*60*24));
  const h=Math.floor((dist%(1000*60*60*24))/(1000*60*60));
  const m=Math.floor((dist%(1000*60*60))/(1000*60));
  const s=Math.floor((dist%(1000*60))/1000);
  document.getElementById("timer").textContent=`${d}d ${h}h ${m}m ${s}s`;
},1000);

// === ESSENSPLAN (TagesÃ¼bersicht) ===
// ====== Tagesplan Datenstruktur ======
let dayPlan = JSON.parse(localStorage.getItem("dayPlan")) || [
  { day: "Donnerstag", morning: "", lunch: "", evening: "" },
  { day: "Freitag", morning: "", lunch: "", evening: "" },
  { day: "Samstag", morning: "", lunch: "", evening: "" },
  { day: "Sonntag", morning: "", lunch: "", evening: "" },
];

// ====== Funktion zum Rendern ======
function renderDayPlan() {
  const container = document.getElementById("dayPlanContainer");
  container.innerHTML = "";

  dayPlan.forEach((d, index) => {
    const dayDiv = document.createElement("div");
    dayDiv.style.border = "1px solid #ccc";
    dayDiv.style.borderRadius = "8px";
    dayDiv.style.padding = "10px";
    dayDiv.style.marginBottom = "12px";
    dayDiv.style.background = "#f9f9f9";

    const titleDiv = document.createElement("div");
    titleDiv.style.display = "flex";
    titleDiv.style.justifyContent = "space-between";
    titleDiv.style.alignItems = "center";
    titleDiv.innerHTML = `<strong>${d.day}</strong>`;

    // LÃ¶schen Button fÃ¼r den Tag
    const delDayBtn = document.createElement("button");
    delDayBtn.className = "mdl-button mdl-js-button mdl-button--accent";
    delDayBtn.textContent = "ðŸ—‘ï¸";
    delDayBtn.onclick = () => {
      dayPlan.splice(index, 1);
      saveDayPlan();
      renderDayPlan();
    };
    titleDiv.appendChild(delDayBtn);
    dayDiv.appendChild(titleDiv);

    // Eingabefelder fÃ¼r FrÃ¼hstÃ¼ck, Mittag, Abend
    ["morning", "lunch", "evening"].forEach(meal => {
      const mealDiv = document.createElement("div");
      mealDiv.style.display = "flex";
      mealDiv.style.alignItems = "center";
      mealDiv.style.marginTop = "6px";

      const label = document.createElement("span");
      label.textContent = meal === "morning" ? "Morgen: " : meal === "lunch" ? "Mittag: " : "Abend: ";
      label.style.width = "70px";

      const input = document.createElement("input");
      input.value = d[meal];
      input.style.flex = "1";
      input.style.padding = "4px";
      input.style.borderRadius = "4px";
      input.style.border = "1px solid #ccc";

      input.oninput = () => {
        dayPlan[index][meal] = input.value;
        saveDayPlan();
      };

      mealDiv.appendChild(label);
      mealDiv.appendChild(input);
      dayDiv.appendChild(mealDiv);
    });

    container.appendChild(dayDiv);
  });
}

// ====== Speichern im LocalStorage ======
function saveDayPlan() {
  localStorage.setItem("dayPlan", JSON.stringify(dayPlan));
}

// ====== Neuer Tag hinzufÃ¼gen ======
document.getElementById("addDayBtn").onclick = () => {
  const val = document.getElementById("newDayInput").value.trim();
  if (!val) return;
  dayPlan.push({ day: val, morning: "", lunch: "", evening: "" });
  document.getElementById("newDayInput").value = "";
  saveDayPlan();
  renderDayPlan();
};

// ====== Initiales Rendern ======
renderDayPlan();

// === Spielplan ===
let scheduleChampionData={}, itemData={}, latestVersion="15.21.1";
const ROLE_ICONS={
  TOP:"https://cdn.jsdelivr.net/gh/CommunityDragon/Data/@latest/img/map11/position-top.svg",
  JUNGLE:"https://cdn.jsdelivr.net/gh/CommunityDragon/Data/@latest/img/map11/position-jungle.svg",
  MID:"https://cdn.jsdelivr.net/gh/CommunityDragon/Data/@latest/img/map11/position-middle.svg",
  ADC:"https://cdn.jsdelivr.net/gh/CommunityDragon/Data/@latest/img/map11/position-bottom.svg",
  SUPPORT:"https://cdn.jsdelivr.net/gh/CommunityDragon/Data/@latest/img/map11/position-utility.svg"
};
async function loadChampionData(){
  try{
    const ver=await fetch("https://ddragon.leagueoflegends.com/api/versions.json");
    const versions=await ver.json(); latestVersion=versions[0];
    const res=await fetch(`https://ddragon.leagueoflegends.com/cdn/${latestVersion}/data/en_US/champion.json`);
    const data=await res.json(); scheduleChampionData=data.data;
  }catch(e){console.warn("API nicht erreichbar");}
}
function populateChampionSelect(sel){
  sel.innerHTML='<option value="">Champion</option>';
  Object.values(scheduleChampionData).forEach(c=>{
    const o=document.createElement("option");o.value=c.name;o.textContent=c.name;sel.append(o);
  });
}
function updateChampionIcon(row,name){
  const img=row.querySelector(".champion-icon");
  if(!name||!scheduleChampionData[name]){img.src="";return;}
  const champ=scheduleChampionData[name];
  img.src=`https://ddragon.leagueoflegends.com/cdn/${latestVersion}/img/champion/${champ.image.full}`;
}
function showItems(row,name){
  const cell=row.querySelector(".item-suggestions");
  cell.textContent=name?`Empfohlene Items fÃ¼r ${name}`:"â€“";
}
function addRow(data={}){
  const tr=document.createElement("tr");
  tr.innerHTML=`<td><input class="player-input" value="${data.player||""}"></td>
  <td><select class="role-select">
    <option>TOP</option><option>JUNGLE</option><option>MID</option><option>ADC</option><option>SUPPORT</option>
  </select><img class="role-icon" src="${ROLE_ICONS[data.role]||ROLE_ICONS.TOP}"></td>
  <td><img class="champion-icon"><select class="champion-select"></select></td>
  <td><input class="opponent-input" value="${data.opponent||""}"></td>
  <td class="item-suggestions">â€“</td>`;
  document.querySelector("#lolTable tbody").append(tr);
  const roleSel=tr.querySelector(".role-select");
  roleSel.onchange=()=>tr.querySelector(".role-icon").src=ROLE_ICONS[roleSel.value];
  const champSel=tr.querySelector(".champion-select");
  populateChampionSelect(champSel);
  champSel.onchange=()=>{updateChampionIcon(tr,champSel.value);showItems(tr,champSel.value);}
}
document.getElementById("addRowBtn").onclick=()=>addRow();

// === Draft ===
let draftChampionData = {};
let picked = { blue: [], red: [] };
let banned = { blue: [], red: [] };
let currentStep = 0;
let version = "15.21.1";

/*
  ðŸ§© Ablauf:
  - 10 Bans (abwechselnd, 5 pro Team)
  - 10 Picks (abwechselnd, 5 pro Team)
*/
const PHASES = [
  // 10 BANS (abwechselnd)
  { type: "ban", team: "blue" },
  { type: "ban", team: "red" },
  { type: "ban", team: "blue" },
  { type: "ban", team: "red" },
  { type: "ban", team: "blue" },
  { type: "ban", team: "red" },
  { type: "ban", team: "blue" },
  { type: "ban", team: "red" },
  { type: "ban", team: "blue" },
  { type: "ban", team: "red" },

  // 10 PICKS (abwechselnd)
  { type: "pick", team: "blue" },
  { type: "pick", team: "red" },
  { type: "pick", team: "blue" },
  { type: "pick", team: "red" },
  { type: "pick", team: "blue" },
  { type: "pick", team: "red" },
  { type: "pick", team: "blue" },
  { type: "pick", team: "red" },
  { type: "pick", team: "blue" },
  { type: "pick", team: "red" },
];

async function loadChampions() {
  const versions = await (await fetch("https://ddragon.leagueoflegends.com/api/versions.json")).json();
  version = versions[0];
  const data = await (await fetch(`https://ddragon.leagueoflegends.com/cdn/${version}/data/en_US/champion.json`)).json();
  draftChampionData = data.data;
  renderChampionGrid();
  updatePhaseInfo();
}

function renderChampionGrid() {
  const grid = document.querySelector(".champion-grid");
  grid.innerHTML = "";
  Object.values(draftChampionData).forEach(c => {
    const img = document.createElement("img");
    img.src = `https://ddragon.leagueoflegends.com/cdn/${version}/img/champion/${c.image.full}`;
    img.title = c.name;
    img.onclick = () => selectChampion(c.name, img.src);
    grid.append(img);
  });
}

function selectChampion(name, src) {
  const step = PHASES[currentStep];
  if (!step) return; // Draft ist fertig

  // PrÃ¼fen, ob Champion schon gewÃ¤hlt/gebanned ist
  if ([...banned.blue, ...banned.red, ...picked.blue, ...picked.red].includes(name)) return;

  const teamBox = step.team === "blue" ? "team-blue" : "team-red";
  const list = step.type === "ban" ? banned[step.team] : picked[step.team];

  // Limit prÃ¼fen
  if (list.length >= 5) return;

  list.push(name);

  const img = document.createElement("img");
  img.src = src;
  img.classList.add(step.type === "ban" ? "ban-icon" : "pick-icon");
  img.title = `${step.type.toUpperCase()}: ${name}`;
  document.querySelector(`#${teamBox} .${step.type === "ban" ? "bans" : "picks"}`).append(img);

  // NÃ¤chster Schritt
  currentStep++;
  updatePhaseInfo();
}

function updatePhaseInfo() {
  const step = PHASES[currentStep];
  const phaseEl = document.getElementById("phase");

  if (!step) {
    phaseEl.textContent = "ðŸŽ‰ Draft abgeschlossen!";
    return;
  }

  const phaseName = step.type === "ban" ? "BAN" : "PICK";
  const teamName = step.team === "blue" ? "Blau" : "Rot";
  phaseEl.textContent = `${phaseName} â€“ ${teamName} ist dran (${currentStep + 1}/${PHASES.length})`;
}

// Optionaler Button fÃ¼r manuelle Weitersteuerung
document.getElementById("nextPhaseBtn").onclick = () => {
  currentStep++;
  updatePhaseInfo();
};

// Reset-Funktion
document.getElementById("resetDraftBtn").onclick = () => {
  picked = { blue: [], red: [] };
  banned = { blue: [], red: [] };
  currentStep = 0;
  document.querySelectorAll(".bans,.picks").forEach(e => e.innerHTML = "");
  updatePhaseInfo();
};


// === Init ===
window.addEventListener("DOMContentLoaded",async()=>{
  await loadChampionData(); addRow(); // start table
  await loadChampions();              // load draft champs
});
</script>
</body>
</html>






